params {
    // Default values for all parameters
    // If these are not set by the user, then they will be set to the values below

    nopreprocess = false
    savereads = false
    help = false
    output = './results'
    output_prefix = 'geneshot'
    manifest = null

    // Preprocessing options
    adapter_F = "CTGTCTCTTATACACATCT"
    adapter_R = "CTGTCTCTTATACACATCT"
    hg_index_url = 'ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/000/001/405/GCA_000001405.15_GRCh38/seqs_for_alignment_pipelines.ucsc_ids/GCA_000001405.15_GRCh38_no_alt_plus_hs38d1_analysis_set.fna.bwa_index.tar.gz'
    hg_index = false
    min_hg_align_score = 30

    // Alignment parameters
    dmnd_min_identity = 80 // DIAMOND
    dmnd_min_coverage = 50 // DIAMOND
    dmnd_top_pct = 1 // DIAMOND
    dmnd_min_score = 20 // DIAMOND
    gencode = 11 //DIAMOND
    sd_mean_cutoff = 3.0 // FAMLI
    famli_batchsize = 10000000 // FAMLI
    famli_folder = false // Import FAMLI-filtered alignments

    // Compositional analysis options
    composition = false

    // Assembly options
    gene_fasta = false
    assembly_folder = false
    phred_offset = 33 // spades
    min_identity = 90 // linclust and reference genome alignment
    min_coverage = 50 // linclust and reference genome alignment

    // Annotation options
    gene_shard_size = 100000
    noannot = false
    taxonomic_dmnd = false
    tax_evalue = 0.00001
    ncbi_taxdump = "ftp://ftp.ncbi.nlm.nih.gov/pub/taxonomy/taxdump.tar.gz"
    eggnog_db = false
    eggnog_dmnd = false
    eggnog_evalue = 0.00001

    // CAG options
    distance_threshold = 0.25
    distance_metric = "cosine"
    min_contig_size = 3
    min_contig_depth = 5
    min_specimens = 1
    cags_csv = false

    // Statistical analysis options
    formula = false
    fdr_method = "fdr_bh"
    corncob_batches = 10

    // Default containers
    container__pandas = "quay.io/fhcrc-microbiome/python-pandas:v1.0.3"
    container__experiment_collection = "quay.io/fhcrc-microbiome/experiment-collection:v0.2"
    container__general = "quay.io/fhcrc-microbiome/integrate-metagenomic-assemblies:v0.5"
    container__assembler = "quay.io/biocontainers/megahit:1.2.9--h8b12597_0"
    container__metaphlan2 = 'golob/metaphlan:2.8'
    container__fastatools = "quay.io/fhcrc-microbiome/fastatools:0.7.1__bcw.0.3.2"
    container__ubuntu = "ubuntu:18.04"
    container__find_cags = "quay.io/fhcrc-microbiome/python-pandas:sklearn"
    container__barcodecop = "quay.io/fhcrc-microbiome/barcodecop:barcodecop_0.5.3"
    container__cutadapt = "quay.io/fhcrc-microbiome/cutadapt:cutadapt_2.3_bcw_0.3.1"
    container__bwa = "quay.io/fhcrc-microbiome/bwa:bwa.0.7.17__bcw.0.3.0I"
    container__mmseqs = "quay.io/fhcrc-microbiome/mmseqs2:version-12"
    container__diamond = "quay.io/fhcrc-microbiome/docker-diamond:v2.0.6-biopython"

}

profiles{
    // By default, give each process a generous amount of resources
    standard {
        process {
            withLabel: 'io_limited' {
                cpus = 1
                memory = 2.GB
            }
            withLabel: 'mem_medium' {
                cpus = 4
                memory = 30.GB
            }
            withLabel: 'mem_veryhigh' {
                cpus = 16
                memory = 120.GB
            }
        }
    }
    testing {
        process {
            withLabel: 'io_limited' {
                cpus = 1
                memory = 1.GB
            }
            withLabel: 'mem_medium' {
                cpus = 1
                memory = 4.GB
            }
            withLabel: 'mem_veryhigh' {
                cpus = 1
                memory = 6.GB
            }
        }
    }
}